<h2 class="captcha-title">
  {{ challenges[currentChallenge].prompt }}
</h2>

<div class="timer">
  Your progress time: {{ formattedTime }}
</div>

<div class="captcha-grid">
  <div 
    *ngFor="let img of gridImages; let i = index"
    class="captcha-cell"
    (click)="selectImage(i)"
    [class.selected]="img.selected"
    [attr.aria-label]="img.alt"
    tabindex="0"
    role="button"
  >
    <img [src]="img.src" [alt]="img.alt" class="captcha-image" />
  </div>
</div>

<div class="captcha-controls">
  <button 
    class="btn-main" 
    (click)="backChallenge()"
    [disabled]="currentChallenge === 0"
  >
    Back
  </button>

  <button 
    class="btn-main" 
    (click)="nextChallenge()" 
    [disabled]="!checkAnswers()"
    *ngIf="currentChallenge < challenges.length - 1"
  >
    Next
  </button>
  
  <button 
    class="btn-main"
    [disabled]="!checkAnswers()"
    *ngIf="currentChallenge === challenges.length - 1"
    (click)="finishChallenge()"
  >
    Finish
  </button>
</div>

<p class="hint-text" *ngIf="!checkAnswers()">
  {{ currentChallenge === challenges.length - 1
    ? 'Complete this challenge to enable the “Finish” button.'
    : 'Complete this challenge to enable the “Next” button.' }}
</p>

